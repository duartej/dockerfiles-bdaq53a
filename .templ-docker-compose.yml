version: "3.2"

services:
    bdaq53:
        build: 
            context: .
            dockerfile: Dockerfile
        image: duartej/bdaq53:eutelescope

    devcode-bdaq53: 
        image: duartej/bdaq53:eutelescope
        volumes: 
            - /tmp/.X11-unix:/tmp/.X11-unix
            - type: bind
              source: @CODEDIR_EUDAQ
              target: /eudaq/eudaq
        environment:
            - DISPLAY=unix${DISPLAY}
        networks:
            default:
                ipv4_address: 172.20.128.30

networks:
    default:
        external:
            name: @NETWORKNAME
